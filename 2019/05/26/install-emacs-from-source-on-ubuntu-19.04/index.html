<!DOCTYPE html>
<html lang="en-us" itemscope itemtype="http://schema.org/WebPage">
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Install emacs from source on ubuntu 19.04 - Steve Kallestad</title>
  <meta name="author" content="Steve Kallestad">
  <meta name="description" content="A blog about everything.">

  <meta name="generator" content="Hugo 0.52" />

  
  
  
  
  
  <link rel="stylesheet" href="/assets/css/external.min.css" media="screen">

  
  
  <link rel="stylesheet" href="/assets/css/styles.css" media="screen">

  <link href="//fonts.googleapis.com/css?family=Roboto:400" rel="stylesheet">

  
  
  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/src/images/apple-touch-icon.png">
  <link rel="shortcut icon" href="/src/images/favicon.ico">

  
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Steve Kallestad" />
  <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Steve Kallestad" />

  <meta property="og:title" content="Install emacs from source on ubuntu 19.04" />
<meta property="og:description" content="The first step is to install all of the requirements to the build:
sudo apt install \  build-essential \ # development tools libncurses-dev libncurses5-dev \ # tools for text-based user interfaces libtiff-dev \ # image support libgif-dev \  libpng-dev \  imagemagick libmagickwand-dev imagemagick-common \  libcairo2-dev \  librsvg2-dev \  libx11-dev \ # x-windows support libgtk-3-dev \  xaw3dg-dev \  libxpm-dev \  libgconf-2-4 \  libgpm-dev \  libotf-dev \ # fonts libm17n-dev \ # multi-lingual support libgnutls28-dev \ # TLS libmailutils-dev \ # mail support mailutils \  libxml2-dev \ # xml support A few notes on the above step." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://nevetS.github.io/2019/05/26/install-emacs-from-source-on-ubuntu-19.04/" /><meta property="article:published_time" content="2019-05-26T15:05:03-07:00"/>
<meta property="article:modified_time" content="2019-05-26T15:05:03-07:00"/>

  
  
<meta itemprop="name" content="Install emacs from source on ubuntu 19.04">
<meta itemprop="description" content="The first step is to install all of the requirements to the build:
sudo apt install \  build-essential \ # development tools libncurses-dev libncurses5-dev \ # tools for text-based user interfaces libtiff-dev \ # image support libgif-dev \  libpng-dev \  imagemagick libmagickwand-dev imagemagick-common \  libcairo2-dev \  librsvg2-dev \  libx11-dev \ # x-windows support libgtk-3-dev \  xaw3dg-dev \  libxpm-dev \  libgconf-2-4 \  libgpm-dev \  libotf-dev \ # fonts libm17n-dev \ # multi-lingual support libgnutls28-dev \ # TLS libmailutils-dev \ # mail support mailutils \  libxml2-dev \ # xml support A few notes on the above step.">


<meta itemprop="dateModified" content="2019-05-26T15:05:03-07:00" />
<meta itemprop="wordCount" content="573">



<meta itemprop="keywords" content="install," />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Install emacs from source on ubuntu 19.04"/>
<meta name="twitter:description" content="The first step is to install all of the requirements to the build:
sudo apt install \  build-essential \ # development tools libncurses-dev libncurses5-dev \ # tools for text-based user interfaces libtiff-dev \ # image support libgif-dev \  libpng-dev \  imagemagick libmagickwand-dev imagemagick-common \  libcairo2-dev \  librsvg2-dev \  libx11-dev \ # x-windows support libgtk-3-dev \  xaw3dg-dev \  libxpm-dev \  libgconf-2-4 \  libgpm-dev \  libotf-dev \ # fonts libm17n-dev \ # multi-lingual support libgnutls28-dev \ # TLS libmailutils-dev \ # mail support mailutils \  libxml2-dev \ # xml support A few notes on the above step."/>

</head>

  <body>
    
      <nav>
  <a href="/" title="Homepage">
    Steve
  </a>
</nav>

    
    <main class="container">
      
  <article>
    <header>
      <small>
        <time datetime="2019-05-26 15:05:03-0700">2019-05-26</time>
        &bull;
          
            
            <a href="/categories/emacs">EMACS</a>
          </small>
      <h1>Install emacs from source on ubuntu 19.04</h1>
    </header>
    <section><p>The first step is to install all of the requirements to the build:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell">sudo apt install <span class="se">\
</span><span class="se"></span>     build-essential <span class="se">\ </span><span class="c1"># development tools</span>
     libncurses-dev libncurses5-dev <span class="se">\ </span><span class="c1"># tools for text-based user interfaces</span>
     libtiff-dev <span class="se">\ </span><span class="c1"># image support</span>
     libgif-dev <span class="se">\
</span><span class="se"></span>     libpng-dev <span class="se">\
</span><span class="se"></span>     imagemagick libmagickwand-dev imagemagick-common <span class="se">\
</span><span class="se"></span>     libcairo2-dev <span class="se">\
</span><span class="se"></span>     librsvg2-dev <span class="se">\
</span><span class="se"></span>     libx11-dev <span class="se">\ </span><span class="c1"># x-windows support</span>
     libgtk-3-dev <span class="se">\
</span><span class="se"></span>     xaw3dg-dev <span class="se">\
</span><span class="se"></span>     libxpm-dev <span class="se">\
</span><span class="se"></span>     libgconf-2-4 <span class="se">\
</span><span class="se"></span>     libgpm-dev <span class="se">\
</span><span class="se"></span>     libotf-dev <span class="se">\ </span><span class="c1"># fonts</span>
     libm17n-dev <span class="se">\ </span><span class="c1"># multi-lingual support</span>
     libgnutls28-dev <span class="se">\ </span><span class="c1"># TLS</span>
     libmailutils-dev <span class="se">\ </span><span class="c1"># mail support</span>
     mailutils <span class="se">\
</span><span class="se"></span>     libxml2-dev <span class="se">\ </span><span class="c1"># xml support</span></code></pre></div>
<p>A few notes on the above step.</p>

<ul>
<li><code>build-essential</code> is overkill, but it covers all of the requirements for the
build and alleviates the need to ferret out the necessary tools and package names.</li>
<li>I&rsquo;m not entirely certain that <code>imagemagick</code> and <code>imagemagick-common</code> are
necessary.  It was my third try enabling imagemagick when I got it working.</li>
<li><code>libcairo2-dev</code> is required for the &ldquo;&ndash;with-cairo&rdquo; configuration option.  My
configuration does not require it, but I included it in case I need it down
the road.</li>
<li><code>mailutils</code> and <code>libmailutils-dev</code> are required for email integration.  If
you don&rsquo;t use emacs with email, you can get rid of them.</li>
</ul>

<p>From here, download the source from a nearby mirror and extract it:</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nv">CURRENT_VERSION</span><span class="o">=</span><span class="m">26</span>.2
wget http://ftpmirror.gnu.org/emacs/emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz
<span class="c1"># also download the signature</span>
wget http://ftpmirror.gnu.org/emacs/emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz.sig
gpg --verify emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz.sig
tar -xvf emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz</code></pre></div>
<p>compile the source</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nv">CURRENT_VERSION</span><span class="o">=</span><span class="m">26</span>.2
<span class="nb">cd</span> emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>
./configure --with-cairo
make
make install</code></pre></div>
<p>Once you have compiled, the <code>-dev</code> packages are no longer needed - at least
until the next installation so at this point they can be removed.  I generally
do not do this on my personal machine, but in a docker environment or any
environment where you are looking to save space, it&rsquo;s a step you want to take
to clean things up.  You might want to uninstall other unnecessary items.</p>

<p>I didn&rsquo;t take this step, you may need to troubleshoot.</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="nv">CURRENT_VERSION</span><span class="o">=</span><span class="m">26</span>.2
sudo apt-get remove build-essential <span class="se">\ </span><span class="c1"># development tools</span>
     libncurses-dev libncurses5-dev <span class="se">\ </span><span class="c1"># tools for text-based user interfaces</span>
     libtiff-dev <span class="se">\ </span><span class="c1"># image support</span>
     libgif-dev <span class="se">\
</span><span class="se"></span>     libpng-dev <span class="se">\
</span><span class="se"></span>     imagemagick libmagickwand-dev imagemagick-common<span class="se">\
</span><span class="se"></span>     libcairo2-dev <span class="se">\
</span><span class="se"></span>     librsvg2-dev <span class="se">\
</span><span class="se"></span>     libx11-dev <span class="se">\ </span><span class="c1"># x-windows support</span>
     libgtk-3-dev <span class="se">\
</span><span class="se"></span>     xaw3dg-dev <span class="se">\
</span><span class="se"></span>     libxpm-dev <span class="se">\
</span><span class="se"></span>     libgconf-2-4 <span class="se">\
</span><span class="se"></span>     libgpm-dev <span class="se">\
</span><span class="se"></span>     libotf-dev <span class="se">\ </span><span class="c1"># fonts</span>
     libm17n-dev <span class="se">\ </span><span class="c1"># multi-lingual support</span>
     libgnutls28-dev <span class="se">\ </span><span class="c1"># TLS</span>
     libmailutils-dev <span class="se">\ </span><span class="c1"># mail support</span>
     libxml2-dev <span class="se">\ </span><span class="c1"># xml support</span>

<span class="nb">cd</span> ..
rm -rf ./emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>
rm ./emacs-<span class="si">${</span><span class="nv">CURRENT_VERSION</span><span class="si">}</span>.tar.xz</code></pre></div>
<p>Of course, if you are really looking into minimizing space, it is much cleaner
to have a separate build environment and build your own binary package,
including only files that are absolutely necessary in that package.</p>

<p>And if you are looking into maximizing performance, you will want to configure
the system with only those dependencies that are important for your use case.
And you will want to use a higher level of compiler optimization, and along
with that optimization run a full suite of tests to ensure that no undefined
behavior results from it.</p>

<p>My use case for emacs is very general.  I tend to do a lot of builds within my
personal and development environments that have common dependencies.  And I
tend to re-build emacs on whims.  I don&rsquo;t keep it updated as releases come
out - if I&rsquo;m in the middle of a big project I don&rsquo;t want to risk it.  But,
sometimes I do want to take advantage of a new feature and I never want to get
left too far behind, as migration gets more and more cumbersome over time.</p>
</section>
    <footer>
      <hr>
      <div class="meta">
        <p class="tags">
          
            
              <a href="/tags/install">
                <span>#</span>install</a>
            
          
        </p>
      </div>
      <hr>
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "test" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>
  </article>

    </main>
    
      <footer>
  <p>
    &copy; 2019 Steve Kallestad.
  </p>
  <p>
  </p>
</footer>

    
    
    
    
    
    
    
    <script src="/assets/js/scripts.min.js"></script>
    
  </body>
</html>
