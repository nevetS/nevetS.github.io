<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Data Modeling | Steve Kallestad]]></title>
  <link href="http://nevetS.github.io/blog/categories/data-modeling/atom.xml" rel="self"/>
  <link href="http://nevetS.github.io/"/>
  <updated>2014-07-07T19:29:33-07:00</updated>
  <id>http://nevetS.github.io/</id>
  <author>
    <name><![CDATA[Steve Kallestad]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NFL Data - Preliminary Modeling]]></title>
    <link href="http://nevetS.github.io/blog/2014/07/05/nfl-data-preliminary-modeling/"/>
    <updated>2014-07-05T18:45:21-07:00</updated>
    <id>http://nevetS.github.io/blog/2014/07/05/nfl-data-preliminary-modeling</id>
    <content type="html"><![CDATA[<p>Before I even start to think about collecting data, I have to figure out where to store it.</p>

<p>On a project like this, I prefer to actually store all of my source data rather than to parse it out on the fly.  I&rsquo;d hate to run a script for 15 hours only to find out later that the data didn&rsquo;t fit my expectations.</p>

<p><img src="/images/posts/20140705/preliminary-data-diagram.png" alt="Preliminary Data Diagram" /></p>

<!-- more -->


<p>The above diagram was drawn using <a href="http://yuml.me/diagram/nofunky/class/draw">yUML</a>:</p>

<pre><code>// Preliminary data diagram
[PageData|id:integer;url:string;timestamp:integer;status:string;category:string;body:text]-will eventually become*[note:Games]
[Games]++-1..*&gt;[Plays] 
</code></pre>

<p>I don&rsquo;t want to spend too much time thinking about details I just don&rsquo;t know yet.  I don&rsquo;t have a purpose for the data, my directive is to collect it.</p>

<p>What I know at this point is that I will want to know the URL, the timestamp for when I grabbed the data, and a status.  I know that I will be grabbing at least two different kinds of pages at this point, so I&rsquo;ve added a category.</p>

<p>Where will I store the data?  The two things that spring immediately to mind are <a href="http://www.mysql.com/">MySQL</a> and <a href="http://www.mongodb.org/">MongoDB</a>.  I have both databases handy.  MySQL will take some time to get moving on, but not much.  Mongo allows you to define the data model as you go.</p>

<p>At this point I know a little bit about these fields:</p>

<ul>
<li><strong>id</strong>: Required, Primary Key, AutoDefined</li>
<li><strong>url</strong>: url&rsquo;s can be long, but the general limit is 2048 characters.</li>
<li><strong>timestamp</strong>: I prefer to keep timestamps in epoch time.  It saves me from having to wonder about leap years, time zones, and daylight savings times between environments when migrating data.  It also saves me from dealing with environment specific idiosyncrasies like the fact that different databases have different formatting and syntax.</li>
<li><strong>status</strong>: Usually I would enumerate status out, but I prefer to move more quickly on this project and not have to worry about defining a fixed set of status values.</li>
<li><strong>category</strong>: I might want a many-to-many relationship of categories if this project were to survive long term, but for now storing the data in-row will work.</li>
<li><strong>body</strong>: The html.  This is long text data.  I can&rsquo;t make any assumptions here other than there will be a lot of text.</li>
</ul>


<p>I also know that I don&rsquo;t want to end up visiting the same page twice.  I could use a unique constraint.  I&rsquo;d rather not at this point.  I prefer to manage uniqueness in the workflow and allow my data store to be more fault tolerant at the moment.</p>
]]></content>
  </entry>
  
</feed>
